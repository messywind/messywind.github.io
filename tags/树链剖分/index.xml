<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>树链剖分 - 标签 - 凌乱之风的博客</title>
    <link>https://blog.messywind.top/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/</link>
    <description>This is my new Hugo FixIt site</description>
    <generator>Hugo 0.139.0 &amp; FixIt v0.3.15</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 10 Jun 2025 03:37:42 +0000</lastBuildDate>
    <atom:link href="https://blog.messywind.top/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>[AHOI2015] 航线规划</title>
      <link>https://blog.messywind.top/posts/cpahoi2015-%E8%88%AA%E7%BA%BF%E8%A7%84%E5%88%92/</link>
      <pubDate>Fri, 10 Dec 2021 11:26:22 +0000</pubDate>
      <guid>https://blog.messywind.top/posts/cpahoi2015-%E8%88%AA%E7%BA%BF%E8%A7%84%E5%88%92/</guid>
      <category domain="https://blog.messywind.top/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">算法竞赛</category>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P2542&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;原题链接&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;题意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;给定一个 $n$ 个点 $m$ 条边的图，有不超过 $40000$ 次的操作，每次操作有三个参数 $op, u, v$&lt;/p&gt;&#xA;&lt;p&gt;若 $op =0$ ，表示删除点 $u,v$ 之间的边&lt;/p&gt;&#xA;&lt;p&gt;若 $op = 1$，表示询问 $u, v$ 之间有多少&lt;strong&gt;关键边&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;关键边：&lt;/strong&gt; $u, v$ 联通，若删除该边 $u, v$ 不连通，则为关键边&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;分析：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;最朴素的想法是每次删完边之后 $\text{tarjan}$ 缩点，再维护树上两点距离，但这样显然会超时。&lt;/p&gt;</description>
    </item>
    <item>
      <title>[LNOI2014] LCA</title>
      <link>https://blog.messywind.top/posts/cplnoi2014-lca/</link>
      <pubDate>Mon, 01 Nov 2021 11:37:53 +0000</pubDate>
      <guid>https://blog.messywind.top/posts/cplnoi2014-lca/</guid>
      <category domain="https://blog.messywind.top/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">算法竞赛</category>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P4211&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;原题链接&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;题意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;给定一颗 $n$ 个节点并且根为 $1$ 的树和 $q$ 次询问，每次询问给定 $l,r,z$ 求&lt;/p&gt;&#xA;&lt;p&gt;$$\sum_{i=l}^{r} \text{dep}(\text{lca}(i,z))$$&lt;/p&gt;&#xA;&lt;p&gt;对 $201314$ 取模&lt;/p&gt;&#xA;&lt;p&gt;$\text{dep}(x)$ 表示点 $x$ 的深度，$\text{lca}(u,v)$ 表示 $u,v$ 的最近公共祖先&lt;/p&gt;&#xA;&lt;p&gt;$1 \le n,q \le 5×10^4$&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;分析：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;对式子进行一步转化，那就相当于在 $[l,r]$ 区间内的每个点，每次将该点和树根的路径上点权 $+1$，最后查询 $z$ 到树根路径的点权之和。这样做显然是超时的，所以就考虑怎么优化式子，我们发现每次询问是在 $[1,n]$ 区间的，所以就可以想到前缀和，也就是&lt;/p&gt;</description>
    </item>
    <item>
      <title>[SDOI 2014] 旅行</title>
      <link>https://blog.messywind.top/posts/cpsdoi-2014-%E6%97%85%E8%A1%8C/</link>
      <pubDate>Wed, 29 Sep 2021 17:03:45 +0000</pubDate>
      <guid>https://blog.messywind.top/posts/cpsdoi-2014-%E6%97%85%E8%A1%8C/</guid>
      <category domain="https://blog.messywind.top/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">算法竞赛</category>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P3313&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;原题链接&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;题意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;给定一棵 $n$ 个节点的树，每个点都有一个宗教 $c_i$ 和权值 $w_i$&#xA;有 $m$ 次操作：&#xA;$1.$ 将节点 $x$ 的宗教 $c_x$ 修改为 $c$&#xA;$2.$ 将节点 $x$ 的权值 $w_x$ 修改为 $w$&#xA;$3.$ 询问树上路径 $u$ 到 $v$ 宗教为 $c_u$ 的权值和 (保证 $c_u=c_v$ )&#xA;$4.$ 询问树上路径 $u$ 到 $v$ 宗教为 $c_u$ 的最大权值 (保证 $c_u=c_v$ )&lt;/p&gt;&#xA;&lt;p&gt;$1 \le n,m,c \le 10^5$&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;分析：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;这种树上问题可以想到树链剖分，那么重点是线段树如何维护，每个点可能会记录 $10^5$ 种宗教，空间显然是开不下的，但是询问只有 $10^5$，所以可以给每个宗教开一颗权值线段树，然后用动态开点的方式维护操作。我们就在权值线段树上记录每个点对应宗教的权值，也就是做映射 $c_u \rightarrow w_u$&lt;/p&gt;</description>
    </item>
    <item>
      <title>[算法竞赛进阶指南] 雨天的尾巴</title>
      <link>https://blog.messywind.top/posts/cp%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-%E9%9B%A8%E5%A4%A9%E7%9A%84%E5%B0%BE%E5%B7%B4/</link>
      <pubDate>Tue, 28 Sep 2021 09:10:52 +0000</pubDate>
      <guid>https://blog.messywind.top/posts/cp%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97-%E9%9B%A8%E5%A4%A9%E7%9A%84%E5%B0%BE%E5%B7%B4/</guid>
      <category domain="https://blog.messywind.top/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">算法竞赛</category>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.luogu.com.cn/problem/P4556&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;原题链接&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;题意&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;给定一棵 $n$ 个节点的树和 $m$ 次操作，每次操作把 $u$ 到 $v$ 路径上的节点加上一个颜色 $z$，最后询问每个点最多颜色的编号(如果相同取编号最小)&lt;/p&gt;&#xA;&lt;p&gt;$1 \le n,m,z \le 10^5$&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;分析：&lt;/strong&gt;&#xA;此题是线段树合并模板题，这里给出树链剖分的做法。&#xA;每次操作修改树上的路径，可以用树链剖分维护一下，注意到 $z$ 的范围是 $10^5$ ，所以我们不能在树上的每个节点上开一个桶记录颜色，所以可以用权值线段树的动态开点。不过这里有更优做法，因为树链剖分出来的序列对应树上的唯一路径，所以题目的操作就相当于：给定一个序列，每次在 $[l,r]$ 区间添加一个颜色，询问每个点最多颜色的编号。这样就可以用差分的思想，每次在 $l$ 点 $+1$，$r + 1$ 点 $-1$，我们把 $l$ 排序，扫描 $1 \sim N$ 的每个点，每次遍历这个点的询问，把对这个点的修改在权值线段树上操作，然后查询一下最大的下标。&#xA;此题在 $\text{acwing}$ 上 $z$ 的数据范围为 $10^9$ 所以最好离散化一下。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
