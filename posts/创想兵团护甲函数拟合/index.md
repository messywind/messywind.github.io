# 创想兵团护甲函数拟合

{{&lt; admonition info &#34;结论&#34; &gt;}}

$$
y = 29.11 \log(x &#43; 170.83) - 149.86
$$

{{&lt; calc &gt;}}

{{&lt; /admonition &gt;}}

![2](/image/armour.png)

{{&lt; admonition info &#34;数据集&#34; false &gt;}}

| 护甲值 | 承伤百分比 |
|-------|--------|
| 0     | 0      |
| 14    | 2.2    |
| 15    | 2.3    |
| 20    | 3.1    |
| 25    | 3.8    |
| 26    | 3.9    |
| 28    | 4.2    |
| 30    | 4.5    |
| 35    | 5.2    |
| 40    | 5.9    |
| 45    | 6.6    |
| 46    | 6.7    |
| 49    | 7.1    |
| 50    | 7.2    |
| 55    | 7.9    |
| 60    | 8.5    |
| 64    | 9      |
| 65    | 9.1    |
| 66    | 9.2    |
| 68    | 9.5    |
| 70    | 9.7    |
| 75    | 10.3   |
| 80    | 10.9   |
| 81    | 11.1   |
| 85    | 11.5   |
| 90    | 12.1   |
| 94    | 12.5   |
| 95    | 12.6   |
| 100   | 13.2   |
| 102   | 13.4   |
| 105   | 13.7   |
| 106   | 13.8   |
| 110   | 14.2   |
| 118   | 15.1   |
| 119   | 15.2   |
| 120   | 15.3   |
| 125   | 15.8   |
| 130   | 16.3   |
| 135   | 16.7   |
| 140   | 17.2   |
| 144   | 17.6   |
| 145   | 17.7   |
| 146   | 17.8   |
| 149   | 18.1   |
| 150   | 18.1   |
| 153   | 18.4   |
| 154   | 18.5   |
| 155   | 18.6   |
| 158   | 18.9   |
| 160   | 19     |
| 165   | 19.5   |
| 166   | 19.6   |
| 168   | 19.7   |
| 169   | 19.8   |
| 170   | 19.9   |
| 174   | 20.3   |
| 175   | 20.3   |
| 176   | 20.4   |
| 178   | 20.6   |
| 179   | 20.7   |
| 180   | 20.8   |
| 183   | 21     |
| 184   | 21.1   |
| 185   | 21.2   |
| 188   | 21.4   |
| 189   | 21.5   |
| 190   | 21.6   |
| 192   | 21.8   |
| 193   | 21.9   |
| 194   | 21.9   |
| 195   | 22     |
| 196   | 22.1   |
| 200   | 22.4   |
| 202   | 22.5   |
| 204   | 22.7   |
| 205   | 22.8   |
| 207   | 23     |
| 209   | 23.1   |
| 210   | 23.2   |
| 212   | 23.3   |
| 215   | 23.5   |
| 217   | 23.7   |
| 218   | 23.8   |
| 220   | 23.9   |
| 222   | 24.1   |
| 223   | 24.1   |
| 225   | 24.3   |
| 226   | 24.4   |
| 227   | 24.5   |
| 228   | 24.6   |
| 230   | 24.6   |
| 231   | 24.7   |
| 232   | 24.8   |
| 233   | 24.9   |
| 235   | 25     |
| 238   | 25.2   |
| 239   | 25.3   |
| 240   | 25.4   |
| 241   | 25.4   |
| 245   | 25.7   |
| 246   | 25.8   |
| 247   | 25.9   |
| 250   | 26.1   |
| 252   | 26.2   |
| 257   | 26.5   |
| 258   | 26.6   |
| 260   | 26.7   |
| 263   | 26.9   |
| 264   | 27     |
| 268   | 27.3   |
| 274   | 27.6   |
| 279   | 28     |
| 285   | 28.3   |
| 288   | 28.5   |
| 290   | 28.7   |
| 296   | 29     |
| 298   | 29.1   |
| 301   | 29.3   |
| 307   | 29.7   |
| 328   | 30.8   |
| 329   | 30.9   |
| 342   | 31.7   |
{{&lt; /admonition &gt;}}

## 代码：
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import curve_fit
import pylab as mpl

mpl.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;]  # 解决中文不显示问题
plt.rcParams[&#39;axes.unicode_minus&#39;] = False    #解决负数坐标显示问题

data = pd.read_csv(&#39;./data2.csv&#39;)

x_data = data[&#39;value&#39;]
y_data = data[&#39;armour&#39;]

def fitting_function(x, a, b, c):
    return a * np.log(x &#43; b) &#43; c

# 进行曲线拟合
popt, pcov = curve_fit(fitting_function, x_data, y_data)

# 获取拟合参数
a_fit, b_fit, c_fit = popt

# 生成拟合曲线的 x 值范围
x_fit = x_data

# 计算拟合曲线的 y 值
y_fit = fitting_function(x_fit, a_fit, b_fit, c_fit)

# 绘制原始数据和拟合曲线
plt.scatter(x_data, y_data, label=&#39;原始数据&#39;)
plt.plot(x_fit, y_fit, color=&#39;red&#39;, label=&#39;拟合曲线&#39;)

# 添加拟合表达式文本
fit_expression = f&#34;y = {a_fit:.2f} * log(x &#43; {b_fit:.2f}) {c_fit:.2f}&#34;
plt.text(min(x_data), max(y_data), fit_expression, fontsize=12, color=&#39;green&#39;)

plt.xlabel(&#39;护甲值&#39;)
plt.ylabel(&#39;承伤百分比&#39;)
plt.legend()
plt.show()
```



---

> 作者: [凌乱之风](https://github.com/messywind)  
> URL: https://blog.messywind.top/posts/%E5%88%9B%E6%83%B3%E5%85%B5%E5%9B%A2%E6%8A%A4%E7%94%B2%E5%87%BD%E6%95%B0%E6%8B%9F%E5%90%88/  

